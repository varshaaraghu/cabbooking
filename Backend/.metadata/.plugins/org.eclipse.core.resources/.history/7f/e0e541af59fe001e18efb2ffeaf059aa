package com.service;


import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.entity.User;
import com.repo.UserRepository;

@Service
public class UserService {

	@Autowired
	UserRepository userRepository;
	
	public String createUser(User user) {
			System.out.println("Inside User controller");
			int countByEmailAndMobile = userRepository.findByEmailAndMobile(user.getEmail(),user.getMobile());
			int countByEmail = userRepository.findByEmail(user.getEmail());
			int countByMobile = userRepository.findByMobile(user.getMobile());

			if(countByEmailAndMobile != 0) {
				return "User with same email and mobile already exists";
			}else {
				userRepository.save(user);
				return "User created";
			}
		}
	
	
	public String signIn(User user) {
		System.out.println("Inside User controller");
		int count = userRepository.findByEmailAndMobile(user.getEmail(),user.getMobile());
		
		if(count != 0) {
			return "User with same email and mobile already exists";
		}else {
			userRepository.save(user);
			return "User created";
		}
	}
}